var mainPage=document.querySelector("main"),eventPage=document.querySelector(".event"),modal=document.querySelector(".modal"),headerButton=document.querySelector(".header__button"),room=mainPage.querySelector(".floor__room"),roomTitles=mainPage.querySelectorAll(".floor__room-title"),events=mainPage.querySelectorAll(".floor__event"),eventTooltips=mainPage.querySelectorAll(".tooltip"),slotsOffTime=mainPage.querySelectorAll(".floor__off-time"),date=mainPage.querySelector(".date"),dateActive=date.querySelector(".date__active-date"),dateCalendar=date.querySelector(".calendar"),eventHeading=eventPage.querySelector(".event__heading"),eventCalendarControl=eventPage.querySelector(".event__calendar-contol"),eventCalendar=eventPage.querySelector(".calendar"),inputEventCandidate=eventPage.querySelector("#event-participants"),buttonOpenCandidates=eventPage.querySelector(".event__candidates-control"),buttonResetInputCandidate=inputEventCandidate.nextElementSibling,inputEventName=eventPage.querySelector("#event-name"),buttonResetEventName=inputEventName.nextElementSibling,eventCandidates=eventPage.querySelector(".event__candidates"),eventRecommendation=eventPage.querySelector(".event__recommendation"),eventVariants=eventRecommendation.querySelectorAll(".event__variant"),eventVariantInputs=eventRecommendation.querySelectorAll("input"),eventWarning=eventPage.querySelector(".event__warning"),buttonTopEventClose=eventPage.querySelector(".event__top-close"),buttonFooterEventClose=eventPage.querySelector(".event__footer-close"),buttonEventCreate=eventPage.querySelector(".event__create"),buttonEventSave=eventPage.querySelector(".event__save"),buttonEventRemove=eventPage.querySelector(".event__remove"),modalEventCreate=modal.querySelector(".modal__message--create"),modalEventRemove=modal.querySelector(".modal__message--remove"),buttonModalOk=modal.querySelector(".modal__ok"),buttonModalCancel=modal.querySelector(".modal__candel"),buttonModalRemove=modal.querySelector(".modal__remove"),onClickToggle=function(e,t,n,a){e.addEventListener("click",function(o){o.preventDefault(),""!=t&&e.classList.toggle(t),o.target.classList.contains(n)&&a()})},roomOnScroll=function(e){if(window.pageXOffset>room.offsetWidth)for(var t=0;t<e.length;t++)e[t].classList.add("floor__room-title--tooltip"),e[t].style.left=window.pageXOffset+12+"px";else for(var n=0;n<roomTitles.length;n++)e[n].classList.contains("floor__room-title--tooltip")&&e[n].classList.remove("floor__room-title--tooltip")};window.addEventListener("scroll",function(){roomOnScroll(roomTitles)}),dateActive.addEventListener("click",function(){dateCalendar.classList.toggle("date__calendar--shown")}),dateCalendar.addEventListener("click",function(e){e.target.classList.contains("calendar__day-number")&&setTimeout(function(){dateCalendar.classList.remove("date__calendar--shown")},350)});for(var i=0;i<events.length;i++){var eventLeft=events[i].offsetWidth/2-eventTooltips[i].offsetWidth/2;eventTooltips[i].style.marginLeft=eventLeft+"px",onClickToggle(events[i],"floor__event--active","")}eventCalendarControl.addEventListener("click",function(){eventCalendar.classList.toggle("event__calendar--shown")}),eventCalendar.addEventListener("click",function(e){e.target.classList.contains("calendar__day-number")&&(e.preventDefault(),setTimeout(function(){eventCalendar.classList.remove("event__calendar--shown")},350))}),inputEventCandidate.addEventListener("focus",function(){eventCandidates.classList.add("event__candidates--shown"),buttonOpenCandidates.removeAttribute("style")}),inputEventCandidate.addEventListener("blur",function(){eventCandidates.classList.contains("event__candidates--shown")&&(eventCandidates.classList.remove("event__candidates--shown"),buttonOpenCandidates.style.display="none"),inputEventCandidate.value?buttonResetInputCandidate.removeAttribute("style"):buttonResetInputCandidate.style.display="none"}),buttonOpenCandidates.addEventListener("click",function(){eventCandidates.classList.contains("event__candidates--shown")&&eventCandidates.classList.remove("event__candidates--shown")}),inputEventName.addEventListener("input",function(){inputEventName.value?buttonResetEventName.removeAttribute("style"):buttonResetEventName.style.display="none"});